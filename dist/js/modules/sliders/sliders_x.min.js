import log_group from"../../log_group.js";function Sliders_x(){document.querySelectorAll(".container_sliders_x").forEach((e=>{let t=e.querySelector(".btn_navi_left_x"),r=e.querySelector(".btn_navi_right_x"),a=e.querySelectorAll(".slide_x"),n=e.querySelector(".create_navi_pagi_x"),l=0,i=Number(e.dataset.timer),c=null,o=!1,v=()=>{a.forEach(((e,t)=>{t<=l-1&&t!==l?e.setAttribute("active_after",""):t>=l+1&&t!==l&&e.setAttribute("active_before","")})),a[l].setAttribute("active",""),0===l?(a[a.length-1].setAttribute("active_after",""),a[a.length-1].removeAttribute("active_before","")):l===a.length-1&&(a[0].setAttribute("active_before",""),a[0].removeAttribute("active_after",""))};v(),a.forEach(((e,t)=>{let r=l===t?"active":"";n.insertAdjacentHTML("beforeend",`<button class="btn_navi_x" ${r} data-number="${t}"></button>`)}));let u=e.querySelectorAll(".btn_navi_x"),s=()=>{a.forEach((e=>{e.removeAttribute("active"),e.removeAttribute("active_after"),e.removeAttribute("active_before")})),v(),u.forEach((e=>{e.removeAttribute("active")})),u[l].setAttribute("active","")};u.forEach((e=>{e.addEventListener("click",(()=>{clearInterval(c),l=Number(e.dataset.number),s()}))}));function b(){o&&(null!==c&&clearInterval(c),c=setInterval((()=>{l=l<a.length-1?l+1:0,s()}),i))}new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?(o=!0,b()):(o=!1,clearInterval(c))}))}),{threshold:.2}).observe(e),b(),e.addEventListener("mouseenter",(()=>{clearInterval(c)})),e.addEventListener("mouseleave",(()=>{b()})),t.addEventListener("click",(()=>{clearInterval(c),l=l>0?l-1:a.length-1,s()})),r.addEventListener("click",(()=>{clearInterval(c),l=l<a.length-1?l+1:0,s()}));let d=0,_=0;e.addEventListener("touchstart",(e=>{d=e.touches[0].clientX})),e.addEventListener("touchmove",(e=>{_=e.touches[0].clientX})),e.addEventListener("touchend",(()=>{let e=_-d;Math.abs(e)>50&&(clearInterval(c),l=e<0?l<a.length-1?l+1:0:l>0?l-1:a.length-1,s()),d=0,_=0,setTimeout((()=>{b()}),2*i)}))}))}export default Sliders_x;